///
/// Massively by HTML5 UP
/// html5up.net | @ajlkn
/// Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
///

/* Main */

#gh-main {
  background-color: _palette(bg);
  position: relative;
  margin: 0 auto;

  width: calc(100% - #{_size(padding) * 2});
  max-width: _size(gh-viewport);
  z-index: 2;

  .gh-card-link:hover {
    opacity: 1;
  }

  .gh-card-link {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  // Author Archive
  // --------------------------------------------

  > .author-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 4rem 4rem 2rem;

    > .author-profile-image {
      flex-shrink: 0;
      margin: 0 0 20px;
      width: 100px;
      height: 100px;
      box-shadow: rgba(255, 255, 255, 0.1) 0 0 0 6px;
      display: block;
      background: #222222;
      border-radius: 100%;
      object-fit: cover;
    }

    > .author-meta {
      display: flex;
      align-items: center;

      > .icon,
      > .bull {
        padding: 5px 10px;
      }
    }

    > .author-location::before {
      margin-right: 10px;
    }
  }

  > footer {
    text-align: center;
  }

	>.gh-article {
		@include padding(calc(_size(padding) * 4), calc(_size(padding) * 4));

		.gh-article-header {
			margin-bottom: _size(padding);

			>* {
				text-align: center;
			}

			>h1 {
				font-size: 3rem;
				line-height: 1.1;
				margin: _size(element-margin) auto;
			}

			>.gh-article-excerpt {
				max-width: 1024px;
				margin: 0 auto;
				font-size: 1.1rem;
				line-height: 2;
				font-style: italic;
			}			
		}

    &.featured {
      text-align: center;
    }



    @include bp.get(0, l) {
      @include padding((_size(padding) * 3), (_size(padding) * 2));
    }

    @include bp.get(0, s) {
      @include padding((_size(padding) * 2), (_size(padding) * 1));

      header {
        &.major {
          > .image > .date {
            margin-top: -1rem;
            margin-bottom: _size(element-margin);
          }

          > h1,
          h2 {
            font-size: 2.5rem;
            line-height: 1.2;
            margin: 0 0 (_size(element-margin) * 0.75);
          }
        }
      }
    }
  }
}

.gh-post-list {
  > .posts {
    display: grid;
    overflow: hidden;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 0;
    width: 100%;
    padding: 0;
    margin: 0;
    border-bottom: 2px solid _palette(border);

    @include bp.get(0, m) {
      grid-template-columns: repeat(2, 1fr);
    }

    @include bp.get(0, s) {
      grid-template-columns: repeat(1, 1fr);
    }

    > .card {
      position: relative;
      width: 100%;
      height: 100%;
      border-color: _palette(border);
      border-left-width: 2px;
      border-style: solid;
      border-top-width: 2px;
      text-align: center;

      .is-body {
        padding-top: 2rem;
      }

      > :last-child {
        margin-bottom: 0;
      }

      &:nth-child(2n - 1) {
        border-left: 0;
      }
			header>h2 {
				height: 2.4em;
			}

			>:last-child {
				margin-bottom: 0;
			}

      &:nth-child(-n + 2) {
        border-top: 0;
      }

      > article {
        height: 100%;
        padding: _size(padding);

        > .actions.special {
          position: absolute;
          bottom: 0;
          left: 0;
        }
      }
    }

    @include bp.get(0, s) {
      > .card {
        > :first-child {
          border-top: 0;
        }

        &:nth-child(2n - 1) {
          border-left-width: 2px;
        }

        &:nth-child(-n + 2) {
          border-top-width: 2px;
        }

        &:nth-child(n) {
          border-left-width: 0;
        }

        &:nth-child(-n + 1) {
          border-top-width: 0;
        }

        .image {
          max-width: 25rem;
          margin-left: auto;
          margin-right: auto;
        }
      }
    }
  }

  @include bp.get(xs) {
    width: 100%;
  }
}

#gh-main.post_index {
  >.gh-article {
    padding: 2rem 4rem;
  }

  >.gh-post-list {
    border-color: _palette(border);
    border-left-width: 2px;
    border-style: solid;
    border-top-width: 2px;
    border-bottom-width: 2px;
  }
}

// TODO(jochumdev): Make font switching working
.has-serif-title #gh-main>.posts header>h2,
.has-serif-title #gh-main>.gh-article-header>h1,
.has-serif-title #gh-main>.gh-article-header>h2 {
	font-family: _font(family);
}

.has-sans-body .gh-article-header>p,
.has-sans-body .gh-article p {
	font-family: _font(family-heading);
}
